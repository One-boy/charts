<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>活动占比图</title>
  <style>
    #container {
      width: 450px;
      height: 450px;
      border: 1px solid #ccc;
      margin: 0 auto;
    }
  </style>
  <script src="../build/charts.js"></script>
</head>

<body>
  <h2>活动占比图示例</h2>
  <div id="container"></div>
</body>

<script>

  const data = [
    { name: '跑步1公里', value: 85, baseValue: 100 },
    { name: '跑步5公里', value: 45, baseValue: 100 },
    { name: '跑步8公里', value: 25, baseValue: 100 },
  ]
  const options = {
    data,
    textStyle: {
      //主标题
      title: {
        fontFamily: 'sans-serif',
        fontSize: 16,
        color: '#333',
        fontWeight: 'normal',
        formatter: '项目:{name}',  //内容格式器
      },
      // 副标题
      subTitle: {
        fontFamily: 'sans-serif',
        fontSize: 32,
        color: 'auto',  //color为auto时，标题颜色和环的颜色相同
        fontWeight: 'bold',
        formatter: '{percent}%',  //内容格式器
      },
    },
    //其它样式
    itemStyle: {
      lineCap: 'round',  //线头样式
      arcGap: 22,  // 环与环的间隙
      innerRadius: 50,  //内环半径
      width: 26,  //环的宽度
      bottomColor: '#ccc',  //环底色
      animationTime: 1000, //动画运行时间
      startAngle: -90,//绘画开始角度
    },
    //颜色映射,和data的value作比对
    visualMap: [
      { min: 0, max: 35, color: 'red' },
      { min: 34, max: 74, color: 'green' },
      { min: 75, max: 100, color: 'blue' },

    ],
  }

  const containerDom = document.getElementById('container')

  //初始化，传入容器dom
  const act = new MyCharts.Activity(containerDom)

  //加入配置
  act.setOption(options)

  //启动轮播
  act.startCarousel(500)
</script>

</html>